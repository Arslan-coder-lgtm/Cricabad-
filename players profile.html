<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Info</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            text-align: center;
        }
        #player-info {
            font-size: 1.2em;
            margin-top: 20px;
        }
        img {
            border-radius: 50%;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Player Info</h1>
    <div id="player-info">Loading...</div>

    <script>
        const apiKey = 'e02252ea-669b-4bef-bf77-6ff08c407fd6';
        const playerId = 'a719e015-0604-4a04-9992-b43a986bae28'; // Provided player ID
        const apiUrl = `https://api.cricapi.com/v1/players_info?apikey=${apiKey}&id=${playerId}`;

        async function fetchPlayerInfo() {
            try {
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json();
                console.log(data); // Log the entire API response to inspect it

                if (data.status !== "success" || !data.data) {
                    throw new Error('Invalid API response');
                }

                const player = data.data;

                const playerInfo = `
                    <img src="${player.playerImg}" alt="${player.name}" width="150" height="150"><br>
                    Name: ${player.name || 'N/A'}<br>
                    Country: ${player.country || 'N/A'}<br>
                    Date of Birth: ${player.dateOfBirth ? new Date(player.dateOfBirth).toDateString() : 'N/A'}<br>
                    Role: ${player.role || 'N/A'}<br>
                    Batting Style: ${player.battingStyle || 'N/A'}<br>
                    Bowling Style: ${player.bowlingStyle || 'N/A'}<br>
                    <h3>Batting Stats (T20I)</h3>
                    Matches: ${getStat(player.stats, 'batting', 't20i', 'm')}<br>
                    Innings: ${getStat(player.stats, 'batting', 't20i', 'inn')}<br>
                    Runs: ${getStat(player.stats, 'batting', 't20i', 'runs')}<br>
                    Highest Score: ${getStat(player.stats, 'batting', 't20i', 'hs')}<br>
                    Average: ${getStat(player.stats, 'batting', 't20i', 'avg')}<br>
                    Strike Rate: ${getStat(player.stats, 'batting', 't20i', 'sr')}<br>
                    100s: ${getStat(player.stats, 'batting', 't20i', '100s')}<br>
                    50s: ${getStat(player.stats, 'batting', 't20i', '50s')}<br>
                    <h3>Bowling Stats (T20I)</h3>
                    Matches: ${getStat(player.stats, 'bowling', 't20i', 'm')}<br>
                    Innings: ${getStat(player.stats, 'bowling', 't20i', 'inn')}<br>
                    Balls: ${getStat(player.stats, 'bowling', 't20i', 'b')}<br>
                    Runs: ${getStat(player.stats, 'bowling', 't20i', 'runs')}<br>
                    Wickets: ${getStat(player.stats, 'bowling', 't20i', 'wkts')}<br>
                    Best Bowling Innings: ${getStat(player.stats, 'bowling', 't20i', 'bbi')}<br>
                    Economy: ${getStat(player.stats, 'bowling', 't20i', 'econ')}<br>
                `;
                document.getElementById('player-info').innerHTML = playerInfo;
            } catch (error) {
                console.error('Error fetching player info:', error);
                document.getElementById('player-info').innerText = 'Error fetching player info';
            }
        }

        function getStat(stats, fn, matchtype, stat) {
            const statObj = stats.find(s => s.fn === fn && s.matchtype === matchtype && s.stat === stat);
            return statObj ? statObj.value : 'N/A';
        }

        // Fetch player info initially
        fetchPlayerInfo();

        // Fetch player info every 60 seconds
        setInterval(fetchPlayerInfo, 60000);
    </script>
</body>
</html>
